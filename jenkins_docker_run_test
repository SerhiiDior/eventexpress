#!groovy
// Run docker build
properties([disableConcurrentBuilds()])

pipeline {
    agent {
        label 'dockerr'
        }
  
    }
    stages {
        try {
        stage("start project"){
            steps {
                echo " ============== start tests =================="
                
                sh '''
                docker run  -v directory:/workdir svdior/pyslim
                '''
                } 
        catch (Exception e) {
                 echo "Stage failed, but we continue"  
            }
        }
    } 
        stage("Allure result"){
            steps {
                    echo "============== send result ====================="
                sh '''
                    docker run -v directory:/workdir svdior/pyslim  python send_resalt.py
                '''
                  }
        }
}
}
}
